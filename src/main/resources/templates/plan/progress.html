<!DOCTYPE html>
<html lang="ko" 
    xmlns:th="http://www.thymeleaf.org" 
        xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
        layout:decorate="~{layouts/leftDefault}">

        
	<section layout:fragment="main-contents" class="w-75">
		<div class="ml-5">
			<div class="d-flex">
				<div id="donutchart" style="width: 400px; height: 300px;"></div>
				<div th:each="book : ${book}" class="m-3">
					<div class="book-contents">
						<div class="book-cover d-flex justify-content-center">
							<img th:src="${book.cover}" class="img-fluid" alt="Cover image">					            			
					    </div>
					    <div class="book-data mt-2">
							<p class="book-title"><span th:text="${#strings.abbreviate(book.title,20)}" class="font-weight-bold"></span></p>
							<p class="book-author"><span th:text="${#strings.abbreviate(book.author, 20)}" class="font-weight-bold"></span></p>						            			
					    </div>	            		
					</div>					
				</div>
				<div class="mt-2 ml-4">
				    <div id="progress-box" class="bg-light">
					    <div class="pt-5 pl-4">
							전체 페이지 수 : <span th:each="book : ${book}"><span th:text="${book.subInfo.itemPage}"></span></span>p
							<br>
							지금까지 읽은 페이지 수 : 	p
							<br>
							오늘 읽은 페이지 수
							<br>
							추가하기 : <input type="text" class="w-25"> p					    
					    </div>
						<div class="d-flex justify-content-end pt-3 pr-3">
							<button type="button" class="form-control btn-secondary w-25">저장</button>
						</div>						
				    </div>
				    <br>
				    <div class="w-100">
				    	<button type="button" class="form-control btn-dark">독서 완료하기</button>
				    	<button type="button" class="form-control btn-danger mt-1">계획 삭제하기</button>
				    </div>
				</div>					 		
			</div>
			<div class="mt-4">
		    	<div id='calendar'></div>				
			</div>			
		</div>	
	</section>
	
	<script layout:fragment="script">
	

	 
    var calendar = null;
    var initialLocaleCode = 'ko';
    var localeSelectorEl = document.getElementById('locale-selector');

        $(document).ready(function (){

            var calendarEl = document.getElementById('calendar');
            
            calendar = new FullCalendar.Calendar(calendarEl, {
                headerToolbar: {

                }

                    
                    
            });
            calendar.render();
                
	        google.charts.load("current", {packages:["corechart"]});
	        google.charts.setOnLoadCallback(drawChart);
	        function drawChart() {
	          var data = google.visualization.arrayToDataTable([
	            ['progress', 'Amount given'],
	            ['완료', 60],
	            ['미완', 40]
	          ]);
	
	          var options = {
	            title: '독서 진행도',
	            pieHole: 0.55,
	            legend: {position: 'none'},
	          	chartArea: {width: 400, height: 250}
	          };
			  
	          
	          
	          var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
	          chart.draw(data, options);
	        }    
        
    	});

	</script>